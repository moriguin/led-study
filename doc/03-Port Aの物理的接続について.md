# Port Aの物理的接続について

## 質問
Port A っていうけど、物理的にCore2とServo2をケーブルでつないだり（Core2のPort Aにさしこむ）はしないよね？

## 回答

**正解です！** Servo2モジュールは**Groveケーブルは使いません**。M5Core2の底面に**直接スタック（積み重ね）**します。

### **実際の接続方法**

```
横から見た図：

    M5Core2本体
┌─────────────────┐
│  [液晶画面]     │
│                 │
└─────────────────┘
        ↓↑ M-Busコネクタ（ピン）で直接接続
┌─────────────────┐
│ Servo2モジュール│
└─────────────────┘
```

### **接続手順**

1. **M5Core2を裏返す**
2. **底面のM-Busコネクタ**（30ピン×2列）を確認
3. **Servo2モジュールを位置を合わせて**上から押し込む
4. **しっかりと合体**させる（積み木のように重ねる）

### **M-Busコネクタの詳細**

```
M5Core2底面のピン配置：
┌─────────────────────────────┐
│ ● ● ● ● ● ● ● ● ● ● ● ● ● ● ●│ 30ピン
│ ● ● ● ● ● ● ● ● ● ● ● ● ● ● ●│ 30ピン
└─────────────────────────────┘
         ↑
    この中にI2C信号も含まれる
    - GPIO32/33（Port A相当）
    - 電源、GND
    - その他の信号線
```

### **なぜPort Aと呼ぶのか？**

実は**論理的な話**です：

1. **物理的には**：M-Busで全ピンが接続される
2. **論理的には**：GPIO32/33（Port A相当のピン）でI2C通信
3. **ソフトウェア上**：`Wire1`として扱う

```cpp
// コード上ではPort A（Wire1）として扱う
Adafruit_PWMServoDriver pwm = Adafruit_PWMServoDriver(0x40, Wire1);
// でも物理的にはM-Bus経由で通信している
```

### **Port A（赤色）の実体**

```
側面のPort A（赤色コネクタ）
    ├─ GPIO32（SDA）
    ├─ GPIO33（SCL）  → これらと同じ信号が
    ├─ 5V              M-Busにも出ている！
    └─ GND
```

つまり：
- **側面のPort A**：Groveケーブル用
- **底面のM-Bus**：同じGPIO32/33が出ている
- **Servo2は底面のM-Bus**を使う

### **接続の確認**

```cpp
// スタック接続でも同じコードで動作確認可能
Wire1.beginTransmission(0x40);
if (Wire1.endTransmission() == 0) {
  Serial.println("Servo2モジュール検出！");
} else {
  Serial.println("接続エラー");
}
```

### **まとめ**

- **Groveケーブルは不要**
- **M5Core2の底面に直接スタック**する
- **M-Bus経由**でI2C通信（GPIO32/33）
- コード上は`Wire1`（Port A相当）として扱う

公式動画の通り、**積み重ねるだけ**でOKです！